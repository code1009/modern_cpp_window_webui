<!DOCTYPE html>
<html>
<head>

<meta charset="utf-8">
<title>code1009</title>


<style>
tr {
  border-bottom: 3px solid #ddd;
}
</style>


</head>
<body>


<div id="grid" style="width: 100%; height: 500px"></div>


<script type="module">

/////////////////////////////////////////////////////////////////////////////
//===========================================================================
class Record
{
	_no;
	_name;
	
	constructor(no, name) 
	{
		this._no = no;
		this._name = name;
	}
}





/////////////////////////////////////////////////////////////////////////////
//===========================================================================
class Table
{
	_Array;
	_MaxVisibleCount;
	_TagElement;
	_TagTable;
	
	constructor() 
	{
		this._Array = new Array();
		this._MaxVisibleCount = 3;
		this._TagElement = document.getElementById("grid");
		this.putTableHtml();
	}
	
	addRecord(rec)
	{
		if (this._Array.length<this._MaxVisibleCount)
		{
			this._Array.push(rec);
		}
		else
		{
			let i;
			let count;
			
			
			count = this._Array.length;
			for(i=0; i<count-1; i++)
			{
				this._Array[i]._no    = this._Array[i+1]._no    ;
				this._Array[i]._name  = this._Array[i+1]._name  ;
			}
			
			
			this._Array[i]._no   = rec._no   ;
			this._Array[i]._name = rec._name ;
		}
		
		this.print();
	}

	putTableHtml()
	{
		let html;
		
		
		html = "<table id=\"_MyTable\" width=\"100%\" >";
		html += "<tr>";
		html += "<th>no</th>";
		html += "<th>name</th>";
		html += "</tr>";
		html += "</table>";
		
		
		this._TagElement.insertAdjacentHTML("beforeEnd", html);
		
		this._TagTable = document.getElementById('_MyTable');
	}
	
	putRecordOddHtml(rec)
	{
		let html;


		html = "<tr>";
		html += "<td >"
		html += rec._no;
		html += "</td>";
		html += "<td>"
		html += rec._name;
		html += "</td>";
		html += "</tr>";


		this._TagTable.insertAdjacentHTML("beforeEnd", html);
	}

	putRecordEvenHtml(rec)
	{
		let html;


		html = "<tr>";
		html += "<td >"
		html += rec._no;
		html += "</td>";
		html += "<td>"
		html += rec._name;
		html += "</td>";
		html += "</tr>";


		this._TagTable.insertAdjacentHTML("beforeEnd", html);
	}
	
	putRecordHtml(rec)
	{
		if (rec._no%2)
		{
			this.putRecordOddHtml(rec);
		}
		else
		{
			this.putRecordEvenHtml(rec);
		}
	}

	print()
	{
		/*
		let target;
		
		
		target = document.getElementById("grid");
		target.innerHTML = "";
		*/
		
		
		this._TagElement.innerHTML = "";


		this.putTableHtml();

		this._Array.forEach(
			rec => 
			{
				this.putRecordHtml(rec);
			}
		);
	}
}





/////////////////////////////////////////////////////////////////////////////
//===========================================================================
let _table = new Table();

_table.addRecord(new Record(1, "이름1"));
_table.addRecord(new Record(2, "이름2"));
_table.addRecord(new Record(3, "이름3"));
_table.addRecord(new Record(4, "이름4"));
_table.addRecord(new Record(5, "이름5"));

//table.print();
//table.print();

</script>


</body>
</html>